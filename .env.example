# QuData Environment Configuration Template
# Copy this file to .env and customize for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Application version
VERSION=1.0.1

# Build information (automatically set during build)
BUILD_DATE=
VCS_REF=

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# API SETTINGS
# =============================================================================

# API server configuration
API_HOST=0.0.0.0
API_PORT=8000

# CORS settings
ENABLE_CORS=true
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# API documentation
ENABLE_DOCS=true
ENABLE_REDOC=true

# Feature flags
ENABLE_GRAPHQL=true
ENABLE_WEBHOOKS=true
ENABLE_MONITORING=true
ENABLE_DASHBOARD=true

# Security
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

# PostgreSQL configuration
DB_HOST=postgres
DB_PORT=5432
DB_NAME=qudata
DB_USER=qudata
DB_PASSWORD=qudata_dev_password

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Database SSL (disable for development)
DB_SSL_MODE=disable

# =============================================================================
# REDIS SETTINGS
# =============================================================================

# Redis configuration
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=

# Redis connection settings
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Worker configuration
WORKERS=4
MAX_WORKERS=8
WORKER_TIMEOUT=300

# Processing settings
BATCH_SIZE=100
MAX_MEMORY=4GB
STREAMING_THRESHOLD=100MB

# Parallel processing
ENABLE_PARALLEL_PROCESSING=true
PARALLEL_WORKERS=4

# =============================================================================
# CELERY SETTINGS (for background tasks)
# =============================================================================

# Celery broker (Redis)
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# Celery worker settings
CELERY_CONCURRENCY=4
CELERY_MAX_TASKS_PER_CHILD=1000
CELERY_PREFETCH_MULTIPLIER=1
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# =============================================================================
# FILE STORAGE SETTINGS
# =============================================================================

# Data directories
QUDATA_DATA_PATH=/app/data
QUDATA_CONFIG_PATH=/app/configs
QUDATA_LOG_PATH=/app/logs
QUDATA_TEMP_PATH=/app/tmp

# File upload settings
MAX_FILE_SIZE=500MB
ALLOWED_FILE_TYPES=pdf,docx,txt,html,csv,json,xml,md,epub

# Storage backend (local, s3, gcs, azure)
STORAGE_BACKEND=local

# =============================================================================
# AWS S3 SETTINGS (if using S3 storage)
# =============================================================================

# AWS credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# S3 bucket configuration
S3_BUCKET_NAME=
S3_PREFIX=qudata/
S3_ENDPOINT_URL=

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Structured logging
LOG_FORMAT=json
LOG_FILE=/app/logs/qudata.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Metrics collection
ENABLE_METRICS=true
METRICS_PORT=8080
METRICS_PATH=/metrics

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Authentication
ENABLE_AUTHENTICATION=false
JWT_SECRET_KEY=your-jwt-secret-key
JWT_EXPIRATION_HOURS=24

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# HTTPS settings
FORCE_HTTPS=false
HTTPS_REDIRECT=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email settings (for notifications)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@your-domain.com

# Webhook settings
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_COUNT=3
WEBHOOK_RETRY_DELAY=60

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development tools
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILER=false

# Auto-reload settings
AUTO_RELOAD=true
RELOAD_DIRS=/app/src

# Testing
TEST_DATABASE_URL=postgresql://qudata:qudata_test@postgres:5432/qudata_test

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================

# Compose project name
COMPOSE_PROJECT_NAME=qudata

# Service scaling
QUDATA_API_REPLICAS=1
QUDATA_WORKER_REPLICAS=1

# Resource limits
POSTGRES_MEMORY_LIMIT=2g
REDIS_MEMORY_LIMIT=1g
QUDATA_MEMORY_LIMIT=4g

# =============================================================================
# BACKUP SETTINGS
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/app/backups

# Database backup
DB_BACKUP_ENABLED=true
DB_BACKUP_COMPRESSION=gzip

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Experimental features
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_FEATURES=false

# Processing features
ENABLE_OCR=true
ENABLE_NLP=true
ENABLE_ML_FEATURES=true

# Export formats
ENABLE_JSONL_EXPORT=true
ENABLE_CHATML_EXPORT=true
ENABLE_PARQUET_EXPORT=true

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================

# Add your custom environment variables here
# CUSTOM_SETTING=value